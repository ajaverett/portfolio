{
  "hash": "6565dea9727057a77a45c4b3808aed26",
  "result": {
    "markdown": "---\ntitle: \"Linear Regression Guide\"\nauthor: \"Aj Averett\"\ndate: \"2023-4-18\"\nimage: 'reg.png'\ncategories: [statistics]\neditor: \n  markdown: \n    wrap: 72\nformat:\n  html:\n    toc: true\n    toc-location: left\n---\n\n\n# Building an $R^2$\n\n## Variance: Observing a Single Variable and its Distance From Average\n\nEach dot in the graph below is a day- the horizontal location of each\ndot is determined by the temperature of that day. The dotted red line\nshows where a point would be if it were the average temperature. Notice\nhow all the points vary, at least a little bit, from the mean. All data\ntends to vary from the mean.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(tidyverse)\nlibrary(plotly)\n\n\ndf <- read_csv(\"rexburg_X.csv\")\n\nmean_tempmax2 <- mean(df$tempmax2)\n\n(ggplot(df, aes(x = tempmax2)) +\n  geom_dotplot() +\n  geom_vline(aes(xintercept = mean_tempmax2), \n             linetype = \"dashed\", \n             color = \"red\", size = .75) +\n  annotate(\"text\", \n           x = mean_tempmax2, \n           y = .5,\n           label = \"Mean\",\n           vjust = 2, \n           hjust = -0.41, \n           color = \"red\", \n           size = 4) +\n  theme_classic() +\n  ylab(\"Number of days with this temperature                                                            \") +\n  xlab(\"Temperature\") +\n  theme(axis.ticks.x = element_blank(), \n        axis.text.x = element_blank()) +\n  coord_cartesian(xlim = c(15,85)) +\n  coord_flip()) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nWe can measure how far a point is from the mean. The calculation is\nsimple:\n$\\text{Temperature of a given day} - \\text{Temperature average} = \\text{How much the given day is different from the average}$\nor more elegantly, $x_i - \\mu$ For example, if the temperature for a\ngiven day is 46 degrees, and the average temperature was 43, how much\nthis day varies from the average is 3 degrees. $46 - 43 = 3$\n\n**Why we square things**\n\n1.  Imagine we have 3 days to analyze,\n    $\\text{day 1: }(41),\\;\\;\\; \\text{day 2: } (42),\\;\\;\\; \\text{day 3: }(46)$.\n\n2.  The average of these days is 43 $\\frac{(41 + 42 + 46)}{3}=43$.\n\n3.  The distances from the average are\n    $\\text{day 1: }(-2),\\;\\;\\; \\text{day 2: } (-1),\\;\\;\\; \\text{day 3: }(3)$.\n\n4.  In order to find the average distance, we need to add the distances\n    and divide it by 3 (the number of observations)\n    $\\frac{(-2 -1+3)}{3} = 0$. The average distance from the average is\n    0...\n\n5.  The negative numbers are causing a problem! Fortunately, we have a\n    cool trick to get rid of negatives: the *square*.\n\n6.  Imagine we square the distances before adding them:\n    $\\frac{(-2)^2 + (-1)^2 + (3)^2}{3} = \\frac{14}{3} = 4\\frac{2}{3}$.\n    (Note, the sum of the squared differences from the mean is called\n    the SSTO, or Total Sum of Squares)\n\n7.  Cool! $4\\frac{2}{3}$ is the average squared distance from the mean.\n\n8.  This average squared distance from the mean is called the\n    *variance*.\n\n9.  (Also, another reason we square things is because it makes calculus\n    easier)\n\n$$\n\\text{Variance} = \\frac{\\sum_{i=1}^n (x_i - \\mu)^2}{n} = \\frac{\\text{SSTO}}{n}\n$$\n\n![](lines1.png)\n\n### SSTO: the Total Sum of Squares\n\nFrom the information above including the equation, we can learn that the\n$\\text{SSTO}$ is the number obtained after the squared distances from\nthe average are obtained. When we divide the $\\text{SSTO}$ by the number\nof observations, we get the variance (averaged squared distance from the\nmean)\n\n## Regression: Explaining a Variable With Another Variable\n\nAbove, we were only dealing with a single variable. For everything\nbelow, we are adding another variable.\n\nSimple linear regression is a statistical method used to model the\nrelationship between a single independent variable (explanatory) and a\nsingle dependent variable (response). The goal is to find the\nbest-fitting straight line that represents the relationship between the\ntwo variables, allowing us to make predictions and understand the\nunderlying trends in the data. In this simple model, we only model a\nsingle explanatory variable (not multiple $X$'s)\n\n-   $X$ - A single quantitative explanatory variable (independent)\n\n-   $Y$ - A single quantitative response variable (dependent)\n\n**A line with points**\n\nWith points on a graph, we can see if they make a line.\n\n-   **The True Line**: This is usually an unknown association that we\n    try to estimate\n\n-   **Observed Points**: While this is not a line, this represents the\n    actual observed points\n\n-   **The Regression Line**: This is our estimate of the True Line\n\n**True, Observed, and Estimated** $Y$\n\nThe **True Regression Line**\n\n$$\nE\\{Y\\} = \\beta_0 + \\beta_1 X_i \n$$\n\nThe **Observed Points**\n\n$$\nY_i = \\beta_0 + \\beta_1 X_i+ \\epsilon_i\n$$ or\n\n$$\nY_i = b_0 + b_1X_i + r_i\n$$\n\nThe **Estimated Regression Line** obtained from a regression analysis\nfrom the observed points\n\n$$\n\\hat{Y}_i = b_0 + b_1 X_i\n$$\n\n::: {.callout-tip collapse=\"true\"}\n# Terminology\n\n-   $E\\{Y\\}$ - True mean y-value, also $\\mu_{Y|X}$ or $E\\{Y|X\\}$\n\n-   $\\beta_0$ - True $y$-intercept\n\n-   $\\beta_1$ - True slope\n\n-   $Y_i$ - Response or dependent variable for the $i^{\\text{th}}$\n    observation.\n\n-   $\\epsilon_i$ - Error, distance of dot to true line.\n    $\\epsilon_i = Y_i - E\\{Y\\}$\n\n-   $r_i$ - Residual, distance of dot to estimated line.\n    $r_i = Y_i - \\hat{Y}_i$\n\n-   $\\hat{Y}_i$ - The fitted line\n\n-   $b_0$ - Estimated $y$-intercept, also $\\hat{\\beta}_0$\n\n-   $b_1$ - Estimated slope, also $\\hat{\\beta}_1$\n:::\n\n::: {.callout-note collapse=\"true\"}\n# R code for calling your data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nggplot(mtcars, aes(x=wt, y=mpg)) + \n  geom_point(shape = 21, color = 'skyblue4', fill = 'skyblue', size = 3) +\n  labs(title=\"Miles per Gallon vs. Weight of Car\", \n       x=\"Weight of Car\", \n       y=\"Miles per Gallon\") +\n  theme_classic()  \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nY <- mtcars$mpg \nX <- mtcars$wt\n\ni <- 3 #random number\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nX[i]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.32\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nY[i]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 22.8\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nggplot(mtcars, aes(x=wt, y=mpg)) + \n  geom_point(shape = 21, color = 'skyblue4', fill = 'skyblue', size = 3) +\n  labs(title=\"Miles per Gallon vs. Weight of Car\", \n       x=\"Weight of Car\", y=\"Miles per Gallon\") +\n  theme_classic() +\n  geom_vline(aes(xintercept = wt[i] ), color = \"red\", linetype = \"dashed\") +\n  geom_hline(aes(yintercept = mpg[i]), color = \"red\", linetype = \"dashed\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n:::\n\n**Estimations**\n\n-   $\\hat{Y}$ estimates $E\\{Y\\}$\n-   $b_0$ estimates $\\beta_0$\n-   $b_1$ estimates $\\beta_1$\n-   $r_i$ estimates $\\epsilon_i$\n\n**Calculating the Estimated Regression Line**\n\nThere are multiple ways to calculate the estimated regression line like\nwith calculus or linear algebra.\n\n::: {.callout-tip collapse=\"true\"}\n## The Calculus Behind Best Fit\n\n# The Calculus Behind Best Fit\n\nThere exists a combination of $b_0$ and $b_1$ that is the lowest.\nGeometrically, we can imagine a shape in three dimensions where two\ninputs ($b_0$ and $b_1$) produce an output ($\\text{SSE}$). Roughly\nspeaking, where the three dimensional slope is equal to 0 is where the\ncombination of $b_0$ and $b_1$ will produce the lowest possible\n$\\text{SSE}$. Since the derivative of an equation can tell us the slope\nat any given point, we can set both equations' derivatives to zero to\nfind where slope is zero for both equations.\n\n**Step One: Take the partial derivatives with respect to** $b_0$ and\n$b_1$\n\nThe partial derivative with respect to $b_0$ is calculated as so:\n\n$$\\frac{\\partial}{\\partial b_0}\\sum_{i=1}^n\\left(Y_i - (b_0+b_1X_i)\\right)^2$$\n$$\n\\begin{align*}\n\\mathscr{}\n&= \\sum_{i=1}^n\\frac{\\partial}{\\partial b_0}\\left(Y_i - (b_0+b_1X_i)\\right)^2  &\\text{Sum Rule}\\\\\n&= \\sum_{i=1}^n2\\left(Y_i - (b_0+b_1X_i)\\right)\\frac{\\partial}{\\partial b_0}\\left(Y_i - (b_0+b_1X_i)\\right) &\\text{Power Rule}\\\\\n&= \\sum_{i=1}^n 2\\left(Y_i - (b_0+b_1X_i)\\right)(-1) &\\text{Simplify}\\\\\n&= -2\\sum_{i=1}^n\\left(Y_i - (b_0+b_1X_i)\\right) &\\text{Constant Multiple Rule for Sums}\n\\end{align*}\n$$\n\nThe partial derivative with respect to $b_1$ is calculated as so:\n\n$$\\frac{\\partial}{\\partial b_1}\\sum_{i=1}^n\\left(Y_i - (b_0+b_1X_i)\\right)^2$$\n$$\n\\begin{align*}\n\\mathscr{}\n&= \\sum_{i=1}^n\\frac{\\partial}{\\partial b_1}\\left(Y_i - (b_0+b_1X_i)\\right)^2  &\\text{Sum Rule}\\\\\n&= \\sum_{i=1}^n2\\left(Y_i - (b_0+b_1X_i)\\right)\\frac{\\partial}{\\partial b_1}\\left(Y_i - (b_0+b_1X_i)\\right) &\\text{Power Rule}\\\\\n&= \\sum_{i=1}^n 2\\left(Y_i - (b_0+b_1X_i)\\right)(-X_i) &\\text{Simplify}\\\\\n&= -2\\sum_{i=1}^nX_i\\left(Y_i - (b_0+b_1X_i)\\right) &\\text{Constant Multiple Rule for Sums}\n\\end{align*}\n$$\n\n**Step Two: Set the simplified partial derivatives to zero and solve\nfor** $b_0$ **and** $b_1$ **respectively**\n\nSolving for $b_0$: $$0 = -2\\sum_{i=1}^n\\left(Y_i - (b_0+b_1X_i)\\right)$$\n\n$$\n\\begin{align*}\n\\mathscr{}\n&0 = \\sum_{i=1}^n\\left(Y_i - b_0-b_1x_i\\right) &\\text{Simplify}\\\\\n&0 = \\sum_{i=1}^nY_i - \\sum_{i=1}^nb_0-\\sum_{i=1}^nb_1X_i &\\text{Sum Rule}\\\\\n&0 = \\sum_{i=1}^nY_i - nb_0-b_1\\sum_{i=1}^nX_i &\\text{Constant Multiple Rule for Sums}\\\\\n& nb_0 = \\sum_{i=1}^nY_i -b_1\\sum_{i=1}^nX_i &\\text{Simplify}\\\\\n& b_0 = \\frac{\\sum_{i=1}^nY_i}{n} -\\frac{b_1\\sum_{i=1}^nX_i}{n} &\\text{Simplify}\\\\\n& b_0 = \\bar{Y} - b_1\\bar{X} &\\text{Simplify to average}\\\\\n\\end{align*}\n$$\n\nSolving for $b_1$ while substituting $b_0$:\n\n$$\n0 = -2\\sum_{i=1}^nX_i\\left(Y_i - (b_0+b_1X_i)\\right)\n$$\n\n$$\n\\begin{align*}\n\\mathscr{}\n&0 = \\sum_{i=1}^nX_i\\left(Y_i - ((\\bar{Y} - b_1\\bar{X})+b_1X_i)\\right) &\\text{Substitute }b_0\\\\\n&0 = \\sum_{i=1}^nX_i(Y_i-\\bar{Y}) - \\sum_{i=1}^nb_1X_i(X_i-\\bar{X})&\\text{Sum Rule}\\\\\n&0 = \\sum_{i=1}^nX_i(Y_i-\\bar{Y}) - b_1\\sum_{i=1}^nX_i(X_i-\\bar{X})&\\text{Constant Multiple Rule for Sums}\\\\\n& b_1= \\frac{\\sum_{i=1}^nX_i(Y_i-\\bar{Y})}{\\sum_{i=1}^nX_i(X_i-\\bar{X})} &\\text{Simplify}\\\\\n& b_1= \\frac{\\sum_{i=1}^n(X_i-\\bar{X})(Y_i-\\bar{Y})}{\\sum_{i=1}^n(X_i-\\bar{X})^2} &\\text{Simplify (steps skipped)}\\\\\n\\end{align*}\n$$\n\n**Step Three: Construct the formula**\n\nOnce you have found $b_0$ and $b_1$ as so:\n\n-   $b_0 = \\bar{Y} - b_1\\bar{X}$\n\n-   $b_1= \\frac{\\sum_{i=1}^n(X_i-\\bar{X})(Y_i-\\bar{Y})}{\\sum_{i=1}^n(X_i-\\bar{X})^2}$\n\n($\\bar{Y}$ represents the mean of the $Y$ values and $\\bar{X}$\nrepresents the mean of the $X$ values)\n\nWe can construct the formula for $\\hat{Y}_i$ as the following:\n\n$$\n\\hat{Y}_i = b_0 + b_1X_i\n$$\n\nWhich means $b_0$ is the change in the mean of $Y$ for a $1$ unit\nincrease in $X$.\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## Least Squares in Linear Algebra\n\n# Least Squares in Linear Algebra\n\n**Step One: Organize the data into vectors** Let's assume you have $n$\nobservations of the independent variable $\\mathbf{X}$ and dependent\nvariable $\\mathbf{Y}$. Organize the data into two vectors:\n\n$$\n\\mathbf{X} = \\begin{bmatrix} X_1 \\\\ X_2 \\\\ \\vdots \\\\ X_n \\end{bmatrix}, \\quad \\mathbf{Y} = \\begin{bmatrix} Y_1 \\\\ Y_2 \\\\ \\vdots \\\\ Y_n \\end{bmatrix}\n$$\n\n**Step Two: Create a design matrix**\n\nCreate a design matrix $\\mathbf{A}$ by adding a column of ones to\nrepresent the intercept term\n\n$$\n\\mathbf{A} = \\begin{bmatrix} 1 & X_1 \\\\ 1 & X_2 \\\\ \\vdots & \\vdots \\\\ 1 & X_n \\end{bmatrix}\n$$\n\n**Step Three: Make a Projection:**\n\nThe goal of simple linear regression is to find the best-fitting line,\nwhich can be viewed as projecting the dependent variable $\\mathbf{Y}$\nonto the column space of the design matrix $\\mathbf{A}$. This\nprojection, denoted by $\\mathbf{\\hat{Y}}$, can be computed as:\n\n$$\n\\mathbf{\\hat{Y}} = \\mathbf{A}(\\mathbf{A}^T\\mathbf{A})^{-1}\\mathbf{A}^T\\mathbf{Y}\n$$\n\nThis formula comes from the orthogonal projection of $\\mathbf{Y}$ onto\nthe column space of $\\mathbf{A}$, which minimizes the squared residuals.\n\n**Step Four: Compute the coefficients:**\n\nThe coefficients of the best-fitting line can be found by solving the\nfollowing linear system:\n\n$$\n\\mathbf{A}^T\\mathbf{A}\\mathbf{\\beta} = \\mathbf{A}^T\\mathbf{Y}\n$$\n\nHere, $\\mathbf{\\beta}$ is a vector containing the coefficients $\\beta_0$\nand $\\beta_1$:\n\n$$\n\\mathbf{\\beta} = \\begin{bmatrix} \\beta_0 \\\\ \\beta_1 \\end{bmatrix}\n$$\n\nTo solve for $\\mathbf{\\beta}$, you can use the following formula:\n\n$$\n\\mathbf{\\beta} = (\\mathbf{A}^T\\mathbf{A})^{-1}\\mathbf{A}^T\\mathbf{Y}\n$$\n\n**Step Five: Construct the formula:**\n\nOnce you have computed the coefficients $\\beta_0$ and $\\beta_1$, you can\nwrite the estimated regression line as:\n\n$$\n\\hat{Y}_i = \\beta_0 + \\beta_1 X_i\n$$\n\nThe estimated slope, $\\beta_1$, indicates the average change in the\ndependent variable ($Y$) for a one-unit increase in the independent\nvariable ($X$). The estimated intercept, $\\beta_0$, represents the\npredicted value of $Y$ when $X = 0$.\n:::\n\nThe formula from calculus to find the coefficients for the estimated\nregression line is as so:\n\n-   $b_0 = \\bar{Y} - b_1\\bar{X}$\n\n-   $b_1= \\frac{\\sum_{i=1}^n(X_i-\\bar{X})(Y_i-\\bar{Y})}{\\sum_{i=1}^n(X_i-\\bar{X})^2}$\n\n($\\bar{Y}$ represents the mean of the $Y$ values and $\\bar{X}$\nrepresents the mean of the $X$ values)\n\n::: {.callout-note collapse=\"true\"}\n# R code for calculating the coefficients for the estimated regression line\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmylm <- lm(tempmax2 ~ X, data = df)\npander::pander(summary(mylm))\n```\n\n::: {.cell-output-display}\n---------------------------------------------------------------\n     &nbsp;        Estimate   Std. Error   t value   Pr(>|t|)  \n----------------- ---------- ------------ --------- -----------\n **(Intercept)**    8.817       7.341       1.201     0.2398   \n\n      **X**         0.7408      0.1527      4.852    4.161e-05 \n---------------------------------------------------------------\n\n\n--------------------------------------------------------------\n Observations   Residual Std. Error   $R^2$    Adjusted $R^2$ \n-------------- --------------------- -------- ----------------\n      30               7.18           0.4567       0.4373     \n--------------------------------------------------------------\n\nTable: Fitting linear model: tempmax2 ~ X\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nb_0 <- mylm$coefficients[1]\nb_1 <- mylm$coefficients[2]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nb_0\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Intercept) \n   8.817363 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nb_1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        X \n0.7408133 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x = X, y = tempmax2)) +\ngeom_point(shape = 21, color = 'skyblue4', fill = 'skyblue', size = 3) +\nstat_function(fun = function(x) b_0 + b_1 * x) + \nlabs(title=\"Temperature by X\", \n     x=\"X\", \n     y=\"Temperature\") +\ntheme_classic() \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n:::\n\n**A challenger approaches!**\n\nBelow, we have charted both variables to try and see if some of the\nvariance of $Y$ is explained by $X$. The blue line represents the\nestimated regression line.\n\nThe goal of the blue line below is to show the association between the\n$X$ and $Y$ variable. The slope can tell us how much our Y value changes\nby a change in our $X$ value. (Note below, that for every $1$ increase\nin our $X$, theres a roughly $.74$ increase in the $Y$.)\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(tidyverse)\nlibrary(plotly)\n\ndf <- read_csv(\"rexburg_X.csv\")\n\nggplot(df, aes(x = X, y = tempmax2)) +\n  geom_point(size = 3, color = 'blue') +\n  theme_classic() +\n  labs(\n    title = \"Complex X by Max Temperature in 2 days\",\n    x = \"Complex X\",\n    y = \"Max Temperature in two days\"\n  ) +\n  geom_smooth(method = \"lm\", se = FALSE) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n### Residuals\n\nAs you can see from the plot, the points do not lie exactly on the\nestimated regression line. For any given point, there is a distance\nbetween the point and the regression line. This distance is called the\nresidual.\n\nThe formula to calculate any given residual is below:\n\n$$\n\\begin{align*}\nr_i &= \\left(Y_i - \\hat{Y_i}\\right)^2\\\\\nr_i &= \\left(Y_i - (b_0+b_1X_i)\\right)^2\n\\end{align*}\n$$\n\n### SSE: the Sum of Squared Errors\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmodel <- lm(tempmax2 ~ X, data = df)\n\ndf$residuals <- residuals(model)\n\nggplot(df, aes(x = X, y = tempmax2)) +\n  geom_point(size = 3, color = 'blue') +\n  theme_classic() +\n  labs(\n    title = \"Complex X by Max Temperature in 2 days (With residuals)\",\n    x = \"Complex X\",\n    y = \"Max Temperature in two days\"\n  ) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  geom_segment(aes(x = X, xend = X, y = tempmax2, yend = tempmax2 - residuals), color = 'red')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nIn the graph above, we can see the vertical distance between the actual\npoints and the predicted line. Some points have a very large red line\nwhich means that the model may not explain that specific point very\nwell. Conversely, the points with a small red line seem to be explained\nby the model very well.\n\nTo make sure the residuals (distances from the regression line) are\npositive, we will square them. We can add them all up to get a sum.\nBelow is the formula to get the sum of the squared residuals\n\n$$\n\\begin{align*}\n\\text{SSE} &= \\sum_{i=1}^n \\left(r_i\\right)^2 \\\\\n\\text{SSE} &= \\sum_{i=1}^n\\left(Y_i - \\hat{Y_i}\\right)^2\\\\\n\\text{SSE} &= \\sum_{i=1}^n\\left(Y_i - (b_0+b_1X_i)\\right)^2\n\\end{align*}\n$$\n\n(Note: SSE is used because E stands for error, the statistic that\nresiduals try to approximate)\n\n(Note: The estimated regression line or line of best fit from the\nobserved points is represented by the equation $\\hat{Y}_i=b_0+b_1X_i$ ,\nwhere $b_1$ is the estimated slope of the line and $b_0$ is the\nestimated y-intercept.)\n\n::: {.callout-tip collapse=\"true\"}\n# Minimizing Residuals\n\nA single residual, $r_i$, is the distance between an observed point and\nthe estimated regression line. Given any line, we can calculate how\ndifferent our predicted value, $\\hat{Y_i}$ is from our actual data\npoint, $Y_i$. This vertical distance from the real y output and the\npredicted y output is called the residual. The formula for any given\nresidual is represented as such\n\n$$\n\\begin{align*}\nr_i &= Y_i-\\hat{Y}_i\\\\\nr_i &= Y_i - (b_0+b_1X_i)\n\\end{align*}\n$$\n\nThe goal of simple linear regression is to minimize the sum of the\nsquared errors ($\\text{SSE}$). This is represented by the equations:\n\n$$\n\\begin{align*}\n\\text{SSE} &= \\sum_{i=1}^n \\left(r_i\\right)^2 \\\\\n\\text{SSE} &= \\sum_{i=1}^n\\left(Y_i - \\hat{Y_i}\\right)^2\\\\\n\\text{SSE} &= \\sum_{i=1}^n\\left(Y_i - (b_0+b_1X_i)\\right)^2\n\\end{align*}\n$$\n\nThe closer any given line is to the best fit line, the lower the\n$\\text{SSE}$ will be. In fact, the best fit line represents the line\nwith the lowest possible $\\text{SSE}$. This line is found by\nmanipulating the values for $b_0$ and $b_1$ since the $X$ values must\nstay the same.\n:::\n\n## Coefficient of Determination: Assessing the Regression Line's fit\n\n### SSR: The Sum of Squares Regression\n\nThe point of regression is to try to find an association between two\nvariables. If a line explains some of the association between two\nvariables, we should be able to \"count\" how much association it\nexplains.\\\\\n\nSSR essentially measures the extent to which the regression line\ncaptures the relationship between the X and Y. A higher SSR value\nindicates that the regression line is better at explaining the observed\nvariation in the data. Conversely, a lower SSR value suggests that the\nregression line may not be a good fit for the data.\n\nThe SSR formula is as so:\n\n$$\n\\text{SSR} = \\sum_{i=1}^{n} (\\hat{Y}_{i} - \\bar{Y})^2\n$$\n\n### Measures of Distances And Their Names\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmylm <- lm(tempmax2~X, data=df)\n\ndf1 <- bind_rows(\n  df %>% select(X) %>% mutate(X=28,tempmax2=mean_tempmax2,type='0, empty'),\n  df %>% select(tempmax2) %>% mutate(X=28,type='1, ssto'),\n  df %>% select(tempmax2, X) %>% mutate(type='2, sse'),\n  df %>% select(X) %>% mutate(tempmax2 = predict(mylm, data.frame(X = X)),type='3, ssr'),\n  df %>% select(X) %>% mutate(tempmax2 = mean_tempmax2, type='4, mean')\n)%>% \n  ggplot(aes(X, tempmax2)) +\n  geom_point(aes(frame = type), color='blue')+theme_classic() +\n  geom_hline(aes(yintercept = mean_tempmax2), \n             linetype = \"dashed\", \n             color = \"red\", size = .75)\n  \n\nggplotly(df1)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-13f99e3abcb23ad0f8f8\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-13f99e3abcb23ad0f8f8\">{\"x\":{\"data\":[{\"x\":[28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],\"y\":[43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86],\"text\":\"X: 28.00000<br />tempmax2: 43.86000<br />type: 0, empty\",\"frame\":\"0, empty\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,255,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"visible\":true},{\"x\":[26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,26.208451,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529,65.622529],\"y\":[43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86],\"text\":\"mean_tempmax2: 43.86\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":2.83464566929134,\"color\":\"rgba(255,0,0,1)\",\"dash\":\"dash\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.2283105022831,\"r\":7.30593607305936,\"b\":40.1826484018265,\"l\":37.2602739726027},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[26.208451,65.622529],\"tickmode\":\"array\",\"ticktext\":[\"30\",\"40\",\"50\",\"60\"],\"tickvals\":[30,40,50,60],\"categoryorder\":\"array\",\"categoryarray\":[\"30\",\"40\",\"50\",\"60\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"X\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[24.11,67.89],\"tickmode\":\"array\",\"ticktext\":[\"30\",\"40\",\"50\",\"60\"],\"tickvals\":[30,40,50,60],\"categoryorder\":\"array\",\"categoryarray\":[\"30\",\"40\",\"50\",\"60\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"tempmax2\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\",\"sliders\":[{\"currentvalue\":{\"prefix\":\"~type: \",\"xanchor\":\"right\",\"font\":{\"size\":16,\"color\":\"rgba(204,204,204,1)\"}},\"steps\":[{\"method\":\"animate\",\"args\":[[\"0, empty\"],{\"transition\":{\"duration\":500,\"easing\":\"linear\"},\"frame\":{\"duration\":500,\"redraw\":false},\"mode\":\"immediate\"}],\"label\":\"0, empty\",\"value\":\"0, empty\"},{\"method\":\"animate\",\"args\":[[\"1, ssto\"],{\"transition\":{\"duration\":500,\"easing\":\"linear\"},\"frame\":{\"duration\":500,\"redraw\":false},\"mode\":\"immediate\"}],\"label\":\"1, ssto\",\"value\":\"1, ssto\"},{\"method\":\"animate\",\"args\":[[\"2, sse\"],{\"transition\":{\"duration\":500,\"easing\":\"linear\"},\"frame\":{\"duration\":500,\"redraw\":false},\"mode\":\"immediate\"}],\"label\":\"2, sse\",\"value\":\"2, sse\"},{\"method\":\"animate\",\"args\":[[\"3, ssr\"],{\"transition\":{\"duration\":500,\"easing\":\"linear\"},\"frame\":{\"duration\":500,\"redraw\":false},\"mode\":\"immediate\"}],\"label\":\"3, ssr\",\"value\":\"3, ssr\"},{\"method\":\"animate\",\"args\":[[\"4, mean\"],{\"transition\":{\"duration\":500,\"easing\":\"linear\"},\"frame\":{\"duration\":500,\"redraw\":false},\"mode\":\"immediate\"}],\"label\":\"4, mean\",\"value\":\"4, mean\"}],\"visible\":true,\"pad\":{\"t\":40}}],\"updatemenus\":[{\"type\":\"buttons\",\"direction\":\"right\",\"showactive\":false,\"y\":0,\"x\":0,\"yanchor\":\"top\",\"xanchor\":\"right\",\"pad\":{\"t\":60,\"r\":5},\"buttons\":[{\"label\":\"Play\",\"method\":\"animate\",\"args\":[null,{\"fromcurrent\":true,\"mode\":\"immediate\",\"transition\":{\"duration\":500,\"easing\":\"linear\"},\"frame\":{\"duration\":500,\"redraw\":false}}]}]}]},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"cdcd833be\":{\"x\":{},\"y\":{},\"frame\":{},\"type\":\"scatter\"},\"cdc54fd38d2\":{\"yintercept\":{}}},\"cur_data\":\"cdcd833be\",\"visdat\":{\"cdcd833be\":[\"function (y) \",\"x\"],\"cdc54fd38d2\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"frames\":[{\"name\":\"0, empty\",\"data\":[{\"x\":[28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],\"y\":[43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86],\"text\":\"X: 28.00000<br />tempmax2: 43.86000<br />type: 0, empty\",\"frame\":\"0, empty\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,255,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"visible\":true}],\"traces\":[0]},{\"name\":\"1, ssto\",\"data\":[{\"x\":[28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],\"y\":[26.1,29,38,47,35.1,37.1,38.9,35.1,35.1,37.1,34.1,38.9,43.1,48.8,51.1,56,65.9,57.8,47,37.1,47,60.2,60.2,46.1,39.8,39.8,42.2,43.1,49.9,49.2],\"text\":[\"X: 28.00000<br />tempmax2: 26.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 29.00000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 38.00000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 47.00000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 35.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 37.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 38.90000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 35.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 35.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 37.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 34.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 38.90000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 43.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 48.80000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 51.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 56.00000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 65.90000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 57.80000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 47.00000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 37.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 47.00000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 60.20000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 60.20000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 46.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 39.80000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 39.80000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 42.20000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 43.10000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 49.90000<br />type: 1, ssto\",\"X: 28.00000<br />tempmax2: 49.20000<br />type: 1, ssto\"],\"frame\":\"1, ssto\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,255,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"visible\":true}],\"traces\":[0]},{\"name\":\"2, sse\",\"data\":[{\"x\":[31.862225,31.6340459999999,39.0407989999998,46.2108749999999,45.5306799999999,48.9277789999999,41.5084669999998,40.4768809999999,40.97666,39.4075899999998,37.8812599999998,41.60363,41.6610099999999,50.2232899999999,51.9877899999999,59.03379,63.83098,59.7455199999998,59.0217,54.75444,39.3675309999998,41.3547069999998,51.1492799999998,57.3127399999999,56.13935,39.1231399999997,45.7813399999999,53.4779769999999,52.8763399999999,57.1859600000001],\"y\":[26.1,29,38,47,35.1,37.1,38.9,35.1,35.1,37.1,34.1,38.9,43.1,48.8,51.1,56,65.9,57.8,47,37.1,47,60.2,60.2,46.1,39.8,39.8,42.2,43.1,49.9,49.2],\"text\":[\"X: 31.86222<br />tempmax2: 26.10000<br />type: 2, sse\",\"X: 31.63405<br />tempmax2: 29.00000<br />type: 2, sse\",\"X: 39.04080<br />tempmax2: 38.00000<br />type: 2, sse\",\"X: 46.21087<br />tempmax2: 47.00000<br />type: 2, sse\",\"X: 45.53068<br />tempmax2: 35.10000<br />type: 2, sse\",\"X: 48.92778<br />tempmax2: 37.10000<br />type: 2, sse\",\"X: 41.50847<br />tempmax2: 38.90000<br />type: 2, sse\",\"X: 40.47688<br />tempmax2: 35.10000<br />type: 2, sse\",\"X: 40.97666<br />tempmax2: 35.10000<br />type: 2, sse\",\"X: 39.40759<br />tempmax2: 37.10000<br />type: 2, sse\",\"X: 37.88126<br />tempmax2: 34.10000<br />type: 2, sse\",\"X: 41.60363<br />tempmax2: 38.90000<br />type: 2, sse\",\"X: 41.66101<br />tempmax2: 43.10000<br />type: 2, sse\",\"X: 50.22329<br />tempmax2: 48.80000<br />type: 2, sse\",\"X: 51.98779<br />tempmax2: 51.10000<br />type: 2, sse\",\"X: 59.03379<br />tempmax2: 56.00000<br />type: 2, sse\",\"X: 63.83098<br />tempmax2: 65.90000<br />type: 2, sse\",\"X: 59.74552<br />tempmax2: 57.80000<br />type: 2, sse\",\"X: 59.02170<br />tempmax2: 47.00000<br />type: 2, sse\",\"X: 54.75444<br />tempmax2: 37.10000<br />type: 2, sse\",\"X: 39.36753<br />tempmax2: 47.00000<br />type: 2, sse\",\"X: 41.35471<br />tempmax2: 60.20000<br />type: 2, sse\",\"X: 51.14928<br />tempmax2: 60.20000<br />type: 2, sse\",\"X: 57.31274<br />tempmax2: 46.10000<br />type: 2, sse\",\"X: 56.13935<br />tempmax2: 39.80000<br />type: 2, sse\",\"X: 39.12314<br />tempmax2: 39.80000<br />type: 2, sse\",\"X: 45.78134<br />tempmax2: 42.20000<br />type: 2, sse\",\"X: 53.47798<br />tempmax2: 43.10000<br />type: 2, sse\",\"X: 52.87634<br />tempmax2: 49.90000<br />type: 2, sse\",\"X: 57.18596<br />tempmax2: 49.20000<br />type: 2, sse\"],\"frame\":\"2, sse\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,255,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"visible\":true}],\"traces\":[0]},{\"name\":\"3, ssr\",\"data\":[{\"x\":[31.862225,31.6340459999999,39.0407989999998,46.2108749999999,45.5306799999999,48.9277789999999,41.5084669999998,40.4768809999999,40.97666,39.4075899999998,37.8812599999998,41.60363,41.6610099999999,50.2232899999999,51.9877899999999,59.03379,63.83098,59.7455199999998,59.0217,54.75444,39.3675309999998,41.3547069999998,51.1492799999998,57.3127399999999,56.13935,39.1231399999997,45.7813399999999,53.4779769999999,52.8763399999999,57.1859600000001],\"y\":[32.4213234513169,32.2522854139177,37.7393065272526,43.0509941717867,42.547096670927,45.0637127828844,39.5673877953468,38.8031751690826,39.1734180980694,38.0110301774379,36.8803046171396,39.6378858111722,39.6803936781799,46.0234445586784,47.3306096220307,52.5503801158703,56.1042022582691,53.0776391640649,52.5414236831041,49.3801807314234,37.9813539375553,39.4534803427307,46.709430263985,51.2754033902922,50.4061404751963,37.8003058349779,42.7327889320661,48.4345599673192,47.9888592774807,51.1814830804415],\"text\":[\"X: 31.86222<br />tempmax2: 32.42132<br />type: 3, ssr\",\"X: 31.63405<br />tempmax2: 32.25229<br />type: 3, ssr\",\"X: 39.04080<br />tempmax2: 37.73931<br />type: 3, ssr\",\"X: 46.21087<br />tempmax2: 43.05099<br />type: 3, ssr\",\"X: 45.53068<br />tempmax2: 42.54710<br />type: 3, ssr\",\"X: 48.92778<br />tempmax2: 45.06371<br />type: 3, ssr\",\"X: 41.50847<br />tempmax2: 39.56739<br />type: 3, ssr\",\"X: 40.47688<br />tempmax2: 38.80318<br />type: 3, ssr\",\"X: 40.97666<br />tempmax2: 39.17342<br />type: 3, ssr\",\"X: 39.40759<br />tempmax2: 38.01103<br />type: 3, ssr\",\"X: 37.88126<br />tempmax2: 36.88030<br />type: 3, ssr\",\"X: 41.60363<br />tempmax2: 39.63789<br />type: 3, ssr\",\"X: 41.66101<br />tempmax2: 39.68039<br />type: 3, ssr\",\"X: 50.22329<br />tempmax2: 46.02344<br />type: 3, ssr\",\"X: 51.98779<br />tempmax2: 47.33061<br />type: 3, ssr\",\"X: 59.03379<br />tempmax2: 52.55038<br />type: 3, ssr\",\"X: 63.83098<br />tempmax2: 56.10420<br />type: 3, ssr\",\"X: 59.74552<br />tempmax2: 53.07764<br />type: 3, ssr\",\"X: 59.02170<br />tempmax2: 52.54142<br />type: 3, ssr\",\"X: 54.75444<br />tempmax2: 49.38018<br />type: 3, ssr\",\"X: 39.36753<br />tempmax2: 37.98135<br />type: 3, ssr\",\"X: 41.35471<br />tempmax2: 39.45348<br />type: 3, ssr\",\"X: 51.14928<br />tempmax2: 46.70943<br />type: 3, ssr\",\"X: 57.31274<br />tempmax2: 51.27540<br />type: 3, ssr\",\"X: 56.13935<br />tempmax2: 50.40614<br />type: 3, ssr\",\"X: 39.12314<br />tempmax2: 37.80031<br />type: 3, ssr\",\"X: 45.78134<br />tempmax2: 42.73279<br />type: 3, ssr\",\"X: 53.47798<br />tempmax2: 48.43456<br />type: 3, ssr\",\"X: 52.87634<br />tempmax2: 47.98886<br />type: 3, ssr\",\"X: 57.18596<br />tempmax2: 51.18148<br />type: 3, ssr\"],\"frame\":\"3, ssr\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,255,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"visible\":true}],\"traces\":[0]},{\"name\":\"4, mean\",\"data\":[{\"x\":[31.862225,31.6340459999999,39.0407989999998,46.2108749999999,45.5306799999999,48.9277789999999,41.5084669999998,40.4768809999999,40.97666,39.4075899999998,37.8812599999998,41.60363,41.6610099999999,50.2232899999999,51.9877899999999,59.03379,63.83098,59.7455199999998,59.0217,54.75444,39.3675309999998,41.3547069999998,51.1492799999998,57.3127399999999,56.13935,39.1231399999997,45.7813399999999,53.4779769999999,52.8763399999999,57.1859600000001],\"y\":[43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86,43.86],\"text\":[\"X: 31.86222<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 31.63405<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 39.04080<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 46.21087<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 45.53068<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 48.92778<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 41.50847<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 40.47688<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 40.97666<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 39.40759<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 37.88126<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 41.60363<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 41.66101<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 50.22329<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 51.98779<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 59.03379<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 63.83098<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 59.74552<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 59.02170<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 54.75444<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 39.36753<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 41.35471<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 51.14928<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 57.31274<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 56.13935<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 39.12314<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 45.78134<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 53.47798<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 52.87634<br />tempmax2: 43.86000<br />type: 4, mean\",\"X: 57.18596<br />tempmax2: 43.86000<br />type: 4, mean\"],\"frame\":\"4, mean\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,255,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"visible\":true}],\"traces\":[0]}],\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nIn the example above, take note of three distances.\n\n-   $0 \\rightarrow 1$: $\\text{SSTO}$: The sum of \"each point's distance to the mean,\n    squared\"\n\n-   $1 \\rightarrow 2$: Regression: adding in an explanatory variable\n\n-   $2 \\rightarrow 3$: $\\text{SSE}$: The sum of \"each point's distance to the line,\n    squared\"\n\n-   $3 \\rightarrow 4$: $\\text{SSR}$: The sum of \"each point's expected distance to the\n    mean\"\n    \n\n::: {.callout-note collapse=\"true\"}\n# R code for calculating the above terms\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresiduals <- mylm$residuals\nfitted_values <- mylm$fitted.values\nmean_mpg <- mean(mtcars$mpg)\n\nSSE <- sum(residuals^2)\nSSR <- sum((fitted_values - mean_mpg)^2)\nTSS <- sum((mtcars$mpg - mean_mpg)^2)\n\npander::pander(cat(\"Sum of Squared Errors (SSE):\", SSE, \"\\n\"))\n```\n\n::: {.cell-output-display}\nSum of Squared Errors (SSE): 1443.558\n:::\n\n```{.r .cell-code}\npander::pander(cat(\"Sum of Squares Regression (SSR):\", SSR, \"\\n\"))\n```\n\n::: {.cell-output-display}\nSum of Squares Regression (SSR): 18163.03\n:::\n\n```{.r .cell-code}\npander::pander(cat(\"Total Sum of Squares (TSS):\", TSS, \"\\n\"))\n```\n\n::: {.cell-output-display}\nTotal Sum of Squares (TSS): 1126.047\n:::\n:::\n\n:::\n\n\n__Ratio of explained variance and total variance__\n\n![](lines2.png)\n\nWe know why the points would be, in total, $\\text{SSR}$ away from the average (since the estimated regression line explains the variance), but we don't know why the points are $\\text{SSE}$ away from the estimated regression line.\n\nNotice how $\\text{SSTO} = \\text{SSE} + \\text{SSR}$. This can be equivalently written as $\\text{Total variance} = \\text{Unexplained variance} + \\text{Explained variance}$ \n\nWe can show this relationship of explained/total variance as a coefficient.\n\n### Calculating the Coefficient of Determination\n\nUsing the terms above, we can calculate a ratio of the variance of $Y$\nexplained by the estimated regression line ($\\text{SSR}$) and the total\nvariance of $Y$ from the average $Y$ value ($\\text{SSTO}$.\n\n$$\nR^2 = \\frac{\\text{SSR}}{\\text{SSTO}} = \\frac{\\text{Explained Variance}}{\\text{Total Variance}}\n$$\n$$\nR^2 = 1 - \\frac{\\text{SSE}}{\\text{SSTO}} = \\frac{\\text{Unexplained Variance}}{\\text{Total Variance}}\n$$\n\nAll $R^2$ represents is the ratio between variance explained by the model and total variance.\n\n::: {.callout-note collapse=\"true\"}\n# R code for calculating the coefficient of determination\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_summary <- summary(mylm)\n\npander::pander(lm_summary$r.squared)\n```\n\n::: {.cell-output-display}\n_0.4567_\n:::\n:::\n\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## Assumptions for Simple Linear Regression\n\nIf we are to make a model off the points displayed as such:\n\n$$\nY_i = \\beta_0 + \\beta_1 X_i+ \\epsilon_i\n$$\n\nWe need to confirm the following assumptions\n\n-   **1) Linear relation**: Linear relationship between $X$ and $Y$\n\n-   **2) Normal errors**: $\\epsilon \\sim \\mathcal{N}(0,\\sigma^2)$, the\n    error terms are normally distributed with a mean of 0\n\n-   **3) Constant variance**: The variance $σ^2$ of the error terms is\n    constant (the same) across all values of $X_i$\n\n-   **4) Fixed** $X$: the $X$ values can be considered fixed and\n    measured without error\n\n-   **5) Independent errors**: $\\epsilon$ is independent\n\n$Y_i = \\beta_0 + \\beta_1 X_i+ \\epsilon_i :\\epsilon \\sim \\mathcal{N}(0,\\sigma^2)$\n\nGiven $X$, $Y \\sim \\mathcal{N}(\\beta_0 +\\beta_1X,\\sigma^2)$\n:::\n\n::: {.callout-note collapse=\"true\"}\n# R code for testing the assumptions for simple linear regression\n\nThree plots in R can be used to test the assumptions for simple linear\nregression:\n\n**Residuals versus Fitted-values Plot** The linear relationship and\nconstant variance assumptions can be diagnosed using a residuals versus\nfitted-values plot. The fitted values are the $Y^i$\n\n-   The residuals are the $r_i$\n\n-   This plot compares the residual to the magnitude of the\n    fitted-value. No discernable pattern in this plot is desirable.\n\n**Q-Q Plot of the Residuals**\n\nThe normality of the error terms can be assessed by considering a normal\nprobability plot (Q-Q Plot) of the residuals. If the residuals appear to\nbe normal, then the error terms are also considered to be normal. If the\nresiduals do not appear to be normal, then the error terms are also\nassumed to violate the normality assumption.\n\n**Residuals versus Order Plot**\n\nWhen the data is collected in a specific order, or has some other\nimportant ordering to it, then the independence of the error terms can\nbe assessed. This is typically done by plotting the residuals against\ntheir order of occurrance. If any dramatic trends are visible in the\nplot, then the independence assumption is violated.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mfrow=c(1,3)) #Residuals versus Fitted-values Plot: Checks Assumptions #1 and #3\n\nplot(mylm,which=1:2) #Q-Q Plot of the Residuals: Checks Assumption #2\n\nplot(mylm$residuals) #Residuals versus Order Plot: Checks Assumption #5\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.1/htmlwidgets.js\"></script>\r\n<script src=\"../../site_libs/plotly-binding-4.10.1/plotly.js\"></script>\r\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\r\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\r\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\r\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}